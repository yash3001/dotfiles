'use strict';(function(){var m={default:!0};window.MirrorFrame=function(c,a,d,h,f){CodeMirror.I18N=CodeMirror.I18N||{getMessage:f};f=document.createElement("div");f.setAttribute("class","CodeMirror-editor");f.setAttribute("style","font-size:"+((a.fontSize||100)/100).toFixed(2)+"em;");c.appendChild(f);var p={nextTheme:function(){if(a.themeOptions){var b=a.themeOptions.all,k=b.indexOf(a.theme||"default")||0;++k>=b.length&&(k=0);b=a.theme=b[k];n(b);if(a.themeOptions.onChange)a.themeOptions.onChange(b)}}};
a.theme=a.theme||"default";var e=new CodeMirror(f,a);this.mirror=e;Object.keys(p).forEach(function(b){e.setCommand(b,p[b])});d&&Object.keys(d).forEach(function(b){e.setCommand(b,d[b])});h&&Object.keys(h).forEach(function(b){e.on(b,h[b])});this.refresh=function(){e.refresh.call(e)};var n=function(b){"default"==b&&-1!=(document.documentElement.getAttribute("class")||"").split(" ").indexOf("dark")&&(b="monokai");m[b]||(m[b]=!0,rea.page.addStyle(rea.extension.getURL("vendor/cm/theme/"+b.replace(/[^a-zA-Z0-9\.-]/g,
"")+".css")));e.setOption("theme",b)};n(a.theme)};var l={jump:function(c){var a=prompt(CodeMirror.I18N.getMessage("Jump_to_line"),"");a&&!isNaN(Number(a-1))&&c.setCursor(Number(a-1));c.focus()},macro:function(c){var a=prompt(CodeMirror.I18N.getMessage("Insert_constructor")+":","");a&&c.replaceSelection("function "+a+"() {\n  \n}\n\n"+a+".prototype = {\n  \n};\n")},reindentall:function(c){for(var a,d=0;d<=c.lineCount();d++)(a=c.getLineTokens(d))&&a[0]&&"quasi"==a[0].state.lastType||c.indentLine(d,
"smart")}},g;for(g in l)l.hasOwnProperty(g)&&(CodeMirror.commands[g]=l[g])})();
