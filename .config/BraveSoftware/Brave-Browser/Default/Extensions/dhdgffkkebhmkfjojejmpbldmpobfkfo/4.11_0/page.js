'use strict';Registry.registerRaw("page.js","e1582c36",(()=>({backup:function(a,qa,ca,Ea){let T,Z,u,ja,va,ia,za,ra,Ia,U,Ja,sa,La;const H={};let P={safeWindow:H,safeDocument:{},eval,Context:{D:Ea},exec_fn:function(w,aa,la){T(new H.Function(w),aa,la)},exec_csp:function(w,aa,la){const A=`__u__${19831206*P.Context.M_r()+1}`;P.Message.send("csp",{id:A,src:w});P.exec_script(A,aa,la)},exec_script:function(w,aa,la){const A=a[w];delete a[w];T(A,aa,la)}};const ua=(w,aa)=>{a.console.error(`Tampermonkey sandbox preparation ${aa?
"("+aa+") ":""}failed. This usually is caused by a third-party extension.`,w);if(aa)return()=>{}};try{(()=>{const w=A=>{const N=function(S){return T(A,S,T(u.wrappedJSObject,arguments,[1]))};N.wrappedJSObject=A;return N},aa=(A,N)=>{let S;for(;null!==A&&void 0!==A&&!(S=Ia(A,N));)A=ra(A);return S},la={i_N:()=>U=(()=>A=>!("prototype"in A))(),i_SS:()=>Ja=(()=>(A,N,S)=>{const na=aa(A,N);if(!na||!na.set||U(na.set))return A[N]=S,!0})(),i_SG:()=>sa=(()=>(A,N)=>{const S=aa(A,N);if(!S||!S.get||U(S.get))return A[N]})(),
F_a:()=>T=(()=>{"use strict";const A=a.Function.apply;return(N,S,na)=>{let O;sa(N,"apply")===A?O=N.apply(S,na):Ja(N,ca,A)&&(O=N[ca](S,na),delete N[ca]);return O}})(),E_u:()=>function(A,N){if(P.exec_eval){const S=`__u__${19831206*P.Context.M_r()+1}`;a[S]=N;return P.Context.F_c(P.Context.eval,a,`(function(that){${A}})((()=>{const k="${S}",r=this[k];delete this[k];return r;})())`)}P.exec_csp(`(function(that){${A}})(this)`,N)},F_c:()=>w(a.Function.call),F_b:()=>Z=w(a.Function.bind),F_tS:()=>w(a.Function.toString),
A_fE:()=>va=w(a.Array.prototype.forEach),A_sl:()=>u=w(a.Array.prototype.slice),A_sp:()=>w(a.Array.prototype.splice),A_sh:()=>w(a.Array.prototype.shift),A_j:()=>w(a.Array.prototype.join),A_pu:()=>ja=w(a.Array.prototype.push),A_po:()=>w(a.Array.prototype.pop),A_m:()=>w(a.Array.prototype.map),A_c:()=>w(a.Array.prototype.concat),A_f:()=>w(a.Array.prototype.filter),A_iO:()=>w(a.Array.prototype.indexOf),O_k:()=>a.Object.keys,O_dP:()=>a.Object.defineProperties,O_dPy:()=>a.Object.defineProperty,O_gOPN:()=>
a.Object.getOwnPropertyNames,O_gOPD:()=>Ia=a.Object.getOwnPropertyDescriptor,O_gOPDs:()=>a.Object.getOwnPropertyDescriptors||(A=>{const N={};for(const S in A)N[S]=la.O_gOPD(A,S);return N}),O_gPO:()=>ra=a.Object.getPrototypeOf,O_tS:()=>w(a.Object.prototype.toString),J_p:()=>za=a.JSON.parse,J_s:()=>ia=a.JSON.stringify,c_l:()=>a.console.log.bind(a.console),c_i:()=>a.console.info.bind(a.console),c_w:()=>a.console.warn.bind(a.console),c_e:()=>a.console.error.bind(a.console),c_d:()=>a.console.debug.bind(a.console),
M_f:()=>a.Math.floor,M_r:()=>a.Math.random,M_m:()=>a.Math.max,M_i:()=>La=w(a.MutationEvent.prototype.initMutationEvent),N_tS:()=>w(a.Number.prototype.toString),P_r:()=>a.Promise?a.Promise.resolve.bind(a.Promise):void 0,P_t:()=>a.Promise?w(a.Promise.prototype.then):void 0,P_c:()=>a.Promise?w(a.Promise.prototype.catch):void 0,R_rAAB:()=>a.FileReader?w(a.FileReader.prototype.readAsArrayBuffer):void 0,S_fCC:()=>a.String.fromCharCode,S_m:()=>w(a.String.prototype.match),S_su:()=>w(a.String.prototype.substr),
S_se:()=>w(a.String.prototype.search),S_sp:()=>w(a.String.prototype.split),S_r:()=>w(a.String.prototype.replace),S_cCA:()=>w(a.String.prototype.charCodeAt),S_tLC:()=>w(a.String.prototype.toLowerCase),S_tUC:()=>w(a.String.prototype.toUpperCase),D_pFS:()=>w(a.DOMParser.prototype.parseFromString),X_o:()=>w(a.XMLHttpRequest.prototype.open),X_sRH:()=>w(a.XMLHttpRequest.prototype.setRequestHeader),X_oMT:()=>w(a.XMLHttpRequest.prototype.overrideMimeType),X_gARH:()=>w(a.XMLHttpRequest.prototype.getAllResponseHeaders),
X_gRH:()=>w(a.XMLHttpRequest.prototype.getResponseHeader),X_s:()=>w(a.XMLHttpRequest.prototype.send),X_a:()=>w(a.XMLHttpRequest.prototype.abort),D_n:()=>a.Date.now};Object.keys(la).forEach(A=>{try{P.Context[A]=la[A]()}catch(N){P.Context[A]=ua(N,`internal.${A}`)}});"String Array Object Number parseInt JSON Math Date Event MutationEvent console location Error Uint8Array Blob FileReader DOMParser XMLHttpRequest Function RegExp frames self top document location Promise".split(" ").forEach(A=>{try{H[A]=
a[A]}catch(N){H[A]=ua(N,`window.${A}`)}});["postMessage","addEventListener","removeEventListener","setTimeout","setInterval","clearTimeout","clearInterval","alert","prompt","confirm","encodeURIComponent",(A=>A.a+A.b)({a:"decodeURI",b:"Component"}),"encodeURI","decodeURI","escape","unescape","atob","btoa","close"].forEach(A=>{try{const N=a[A];H[A]=function(){return T(N,a,arguments)}}catch(N){H[A]=ua(N,`window.${A}`)}});P.createSafeDocument=A=>{"getElementById createEvent createElement dispatchEvent addEventListener removeEventListener".split(" ").forEach(N=>
{try{const S=A[N];P.safeDocument[N]=function(){return T(S,A,arguments)}}catch(S){P.safeDocument[N]=ua(S,`document.${N}`)}})};P.createSafeDocument(qa)})()}catch(w){return ua(w)}try{P.Message=((w,aa)=>{const la=function(){return T(aa.dispatchEvent,aa,arguments)},A=function(){return T(aa.addEventListener,aa,arguments)},N=function(){return T(aa.removeEventListener,aa,arguments)},S=(fa,Q)=>{const ha=aa.createEvent("MutationEvent");La(ha,fa,!1,!1,null,null,null,ia(Q),ha.ADDITION);return ha};let na,O,wa,
oa,Qa=1;const Ma={};let Na=[];const Wa=(fa,Q)=>{let ha;fa&&(ha=Ma[fa])&&(ha(Q),delete Ma[fa])};let Aa=fa=>{const Q=za(fa.attrName);"message.response"==Q.m?Wa(Q.r,Q.a):na&&!1===na(Q,Q.r?ha=>{ha=S(wa,{m:"message.response",a:ha,r:Q.r});la(ha)}:()=>{})&&ja(Na,fa)};return{init:function(fa){oa||(oa=fa);wa=`2C_${oa}`;O=`2P_${oa}`;A(O,Aa,!1)},send:function(fa,Q,ha){if(ha){{const ma=++Qa;Ma[Qa]=ha;ha=ma}}else ha=null;fa=S(wa,{m:fa,a:Q,r:ha});la(fa)},onMessage:{setListener:function(fa,Q){na=fa;Q||(va(Na,ha=>
{Aa(ha)}),Na=null)}},cleanup:function(){Aa&&N(O,Aa,!1);Aa=null}}})(H,P.safeDocument),P.Message.init(ca),P.Message.onMessage.setListener(w=>{if(P)if("load"==w.m)P.Context.pageLoaded=!0;else if("DOMContentLoaded"==w.m)P.Context.domContentLoaded=!0;else if("cleanup"==w.m)P.Message.cleanup(),P=null;else if("next"==w.m)if(w.a.id)P.exec_script(w.a.id,P),P.exec_eval=!1;else{if(void 0===P.exec_eval)try{P.exec_eval=Z(P.eval,a)("true")}catch(aa){P.exec_eval=!1}P.exec_eval?P.exec_fn(w.a.src,P):P.exec_csp(w.a.src,
P)}else return!1},!0)}catch(w){return ua(w)}},next:function(a,qa,ca,Ea,T,Z,u,ja,va,ia,za,ra,Ia,U,Ja){{let sa="";ja&&(sa+="let V = true;");ia&&(sa+="let EV = true;");va&&(sa+="let ENV = true;");sa+=`let logLevel = ${u};`;u="";if(Ia||"complete"==document.readyState)u+="Context.pageLoaded |= true;Context.domContentLoaded |= true;";else if(U||"interactive"==document.readyState)u+="Context.domContentLoaded |= true;";a=`${sa+`let contextId = "${a}";`+"const Event = function() {};const Window = function() {};Window.prototype = {};"+
u}(${Ja})(Context, contextId);\n`}return['const backup = this;(function TM_back() {const Context = backup.Context;const copy = function(src) {"use strict";const props = Context.O_gOPN(src);for (let kk, ii=0; (kk=props[ii]) !== undefined; ii++) {Context[kk] = src[kk];};};copy(backup);with (Context) {(() => {"use strict";copy({Context: Context,',`V:!!${ja},`,`ENV:!!${va},`,`TS:!!${za},`,`D:!!${ra},`,`use:${Z},`,`windowProps:${Ea},`,`scripts:${qa},`,`powers:${ca},`,"_content: false,",`flags:${T},`,'write_listeners: []});const cleanup = evt => {Message.cleanup();safeWindow.removeEventListener("unload", cleanup, false);};safeWindow.addEventListener("unload", cleanup, false);Context.write_listeners.push(d => {Context.createSafeDocument(d);Message.init();});',
a,"})();};})();"].join("")},environment:function(a,qa){const ca=a.V,Ea=a.EV,T=a.D,Z=a.Message,u=a.safeWindow,ja=window,va=a.safeDocument,ia=a.flags,za=a.i_N,ra=a.i_SS,Ia=a.i_SG,U=a.F_a,Ja=a.F_c,sa=a.F_b,La=a.F_tS,H=a.A_fE,P=a.A_sl,ua=a.A_sp,w=a.A_pu,aa=a.A_po,la=a.A_sh,A=a.A_j,N=a.A_f,S=a.A_iO,na=a.A_c,O=a.O_k,wa=a.O_dP,oa=a.O_dPy,Qa=a.O_gOPN,Ma=a.O_gOPD,Na=a.O_gOPDs,Wa=a.O_tS,Aa=a.J_p,fa=a.J_s,Q=a.c_l,ha=a.c_i,ma=a.c_w,Oa=a.c_e,xa=a.c_d,jb=a.M_f,bb=a.M_r,cb=a.M_m,kb=a.P_r,lb=a.P_t,mb=a.P_c,Ra=a.S_fCC,
Sa=a.S_m,db=a.S_su,Xa=a.S_sp,Fa=a.S_r,Ya=a.S_se,eb=a.S_cCA,Za=a.S_tLC,nb=a.S_tUC,ob=a.R_rAAB,pb=a.D_pFS,fb=a.X_o,qb=a.X_sRH,rb=a.X_oMT,sb=a.X_gARH,tb=a.X_gRH,gb=a.X_s,ub=a.X_a,vb=a.N_tS,Ta=a.D_n,Ua=u.Promise||(()=>{ma("There is no browser Promise support!")});a.domContentLoaded|=0;a.pageLoaded|=0;a.domNodeInserted|=0;a.props={};const Va=(()=>{const x=[],E=r=>{if(document.body)r&&(r(),r=null);else{const L=["load","DOMNodeInserted","DOMContentLoaded"],K=()=>{H(L,R=>{va.removeEventListener(R,K,!1)});
E(r)};H(L,R=>{va.addEventListener(R,K,!1)})}},F=r=>{w(x,()=>{u.setTimeout(r,1)});a.domContentLoaded&&M.runListeners()};var M={runListeners:function(){let r;for(;r=la(x);)r()},run:function(r){const L=()=>{$a.create(r)};"document-start"==r.script.options.run_at?(T&&xa(`env: run "${r.script.name}" ASAP -> document-start`),$a.create(r)):"document-body"==r.script.options.run_at?(T&&xa(`env: schedule "${r.script.name}" for document-body`),E(L)):"context-menu"==r.script.options.run_at?(T&&xa(`env: run "${r.script.name}" ASAP -> context-menu`),
$a.create(r)):"document-end"==r.script.options.run_at?(T&&xa(`env: schedule "${r.script.name}" for document-end`),w(x,L),a.domContentLoaded&&M.runListeners()):(T&&xa(`env: schedule "${r.script.name}" for document-idle`),F(L))}};return M})();(ca||T)&&xa(`env: initialized (content, id:${db(qa,0,10)}..., ${u.location.origin}${u.location.pathname}) `);const Ga={createUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,x=>{const E=16*bb()|0;return vb("x"==x?E:E&3|8,16)})},toType:function(x){return Sa(Wa(x,
{}),new u.RegExp("\\s([a-z|A-Z]+)"))[1]}},pa={UTF8:{encode:function(x){return u.unescape(u.encodeURIComponent(x))},decode:function(x){return u.decodeURIComponent(u.escape(x))}},Base64:{encode:function(x){let E="";for(let F=0;F<x.length;F++)E+=Ra(eb(x,F)&255);return u.btoa(E)},decode:function(x){return u.atob(x)}},str2arrbuf:function(x){const E=new u.Uint8Array(x.length);for(let F=0;F<x.length;F++)E[F]=eb(x,F);return E.buffer},arrbuf2str:function(x){let E="";x=new u.Uint8Array(x);for(let F=0;F<x.length;F+=
32687)E+=U(Ra,null,x.subarray(F,F+32687));return E},blob2str:(x,E)=>{const F=new u.FileReader;F.onload=()=>{E(pa.arrbuf2str(F.result))};ob(F,x)}},Ba=(()=>{const x={};let E;const F=M=>{let r=[],L=[];var K={postMessage:function(R){Z.send("port.message",{response_id:M,value:R})},onMessage:{addListener:function(R){w(r,R)}},onDisconnect:{addListener:function(R){w(L,R)}},disconnect:function(){Z.send("port.message",{response_id:M,disconnect:!0});K=L=r=null;delete x[M]}};x[M]={message:function(R){r&&H(r,
ba=>{ba(R)})},disconnect:function(R){L&&H(L,ba=>{ba(R)});K=L=r=null;delete x[M]}};return K};return{message:function(M){let r;M.connect?E&&E(M.destination,F(M.response_id)):(r=x[M.response_id])?M.disconnect?r.disconnect():r.message(M.value):T&&ma("ports: unkown id",M.response_id,M)},connect:function(M){const r=Ga.createUUID();Z.send("port.message",{response_id:r,connect:!0,destination:M});return F(r)},onConnect:{addListener:function(M){E=M}}}})(),hb=(()=>{const x={objs:{},push:function(E,F){0!==F&&
1!==F&&(F=0);const M=jb(19831206*bb()+1);x.objs[M]={fn:E,prio:F};return M},remove:function(E){delete x.objs[E]},get:function(E){const F=[];for(let M=0;1>=M;M++)H(O(x.objs),r=>{x.objs[r].prio!==M||void 0!==E&&r!=E||w(F,x.objs[r].fn)});return void 0===E?F:F[0]},finalize:function(E){if(void 0===E){E=x.get();for(var F=0;F<E.length;F++)E[F]()}else return x.objs[E]&&(F=x.objs[E].fn(),delete x.objs[E]),F}};return x})(),I=ia.statistics?(x,E)=>{u.setTimeout(()=>{Z.send("api",{name:x,type:E},null)},1)}:()=>
{},Ca=(()=>{const x=(r,L)=>{I("GM_openInTab");let K=null,R=!1,ba=null,W;const ea=(()=>{const da=[];return{run:function(Ka){Ka&&w(da,Ka);if(K)for(;da.length;)aa(da)()}}})();let ka=Ba.connect("openInTab");ka.onMessage.addListener(da=>{da.tabId?R?ka&&ka.postMessage({close:!0}):(K=da.tabId,ea.run()):da.name?W=da.name:da.closed&&(R=!0,ba&&(ba(),ba=void 0))});ka.onDisconnect.addListener(()=>{ka=null});ka.postMessage({method:"openTab",url:r,options:L});r={};wa(r,{close:{value:function(){I("GM_openInTab.close");
R?T&&xa("env: attempt to close already closed tab!"):ka&&ka.postMessage({close:!0})}},closed:{get:function(){I("GM_openInTab.closed");return R}},onclose:{get:function(){return ba},set:function(da){I("GM_openInTab.onclose=");ba=da}},name:{get:function(){return W},set:function(da){ea.run(()=>{I("GM_openInTab.name=");ka&&ka.postMessage({name:da})})}}});return r},E=function(r,L){I("GM_download");const K="Object"===Ga.toType(r)?r:{url:r,name:L},R=(W,ea)=>{ea=ea||{};W&&u.setTimeout(()=>{U(W,ea,[ea])},1)};
let ba=Ba.connect("download");ba.onMessage.addListener(W=>{try{W.load?K.onload&&R(K.onload,W.data):W.progress?K.onprogress&&R(K.onprogress,W.data):W.timeout?K.ontimeout&&R(K.ontimeout,W.data):K.onerror&&R(K.onerror,W.data)}catch(ea){Q("env: Error: TM_download - ",ea,K)}});ba.onDisconnect.addListener(()=>{ba=null});(W=>{if(!ia.blob_download_supported&&K.url.startsWith("blob:")){const ea=new u.XMLHttpRequest;fb(ea,"GET",K.url);ea.responseType="blob";ea.onload=()=>{4==ea.readyState&&pa.blob2str(ea.response,
ka=>{try{K.url=`data:application/octet-stream;base64,${pa.Base64.encode(ka)}`}catch(da){ma("env: Error: TM_download - ",da,K)}W&&(W(),W=null)})};ea.onerror=ea.ontimeout=()=>{W&&(W(),W=null)};gb(ea)}else W&&(W(),W=null)})(()=>{ba&&ba.postMessage({details:K})});return{abort:function(){ba&&ba.postMessage({cancel:!0})}}},F=(r,L,K)=>{const R=Ga.createUUID();Z.send("addElement",{tag:r,properties:L,id:R},K?()=>{K()}:null);return va.getElementById(R)},M={};return{log:function(){I("GM_log");U(Q,this,arguments)},
addStyle:(r,L)=>{I("GM_addStyle");return F("style",{textContent:r},L)},addElement:(r,L,K)=>{I("GM_addElement");return F(r,L,K)},closeTab:r=>{I("window.close");Z.send("closeTab",null,r?()=>{r()}:null)},focusTab:r=>{I("window.focus");Z.send("focusTab",null,r?()=>{r()}:null)},setClipboard:(r,L,K)=>{I("GM_setClipboard");Z.send("setClipboard",{content:r,info:L,id:qa},K?()=>{K()}:null)},syntaxCheck:(r,L)=>{Z.send("syntaxCheck",{code:r},K=>{L(K)})},of:function(r){const L=r.script,K=(()=>{let c=[];const d=
r.storage;let e=0;const t=(q,f)=>{if("string"===typeof q){const m=q[0];q=db(q,1);switch(m){case "b":return"true"===q;case "n":return u.Number(q);case "x":return pa.UTF8.decode(pa.Base64.decode(q));case "o":try{return Aa(q)}catch(b){Q(`values: parseValueFromStorage: ${b}`)}return f;default:return q}}else return f},v=(q,f,m,b)=>{f!=m&&H(c,g=>{if(g&&g.key==q&&g.cb)try{g.cb(q,t(f),t(m),b)}catch(h){T&&ma(`values: change listener of "${q}" failed with: ${h.message}`)}})},n=q=>{B&&B.postMessage({method:"saveStorageKey",
uuid:L.uuid,key:q,value:d.data[q],id:qa,ts:d.ts})};var B=Ba.connect("values");B.onMessage.addListener(q=>{if(q.storage){var f=q.storage.data;q.removed&&(f[q.removed]=void 0);H(O(f),m=>{const b=d.data[m],g=f[m];void 0===g?delete d.data[m]:d.data[m]=g;ca&&Q(`values: message - config key ${m}: ${b} -> ${g}`);v(m,b,g,!0)})}});B.onDisconnect.addListener(()=>{T&&Q("values: port disconnected");B=null});B.postMessage({method:"addStorageListener",uuid:L.uuid,id:qa});return{set:function(q,f){I("GM_setValue");
const m=d.data[q];d.ts=Ta();var b=d.data;{let g=(typeof f)[0];switch(g){case "o":try{f=g+fa(f)}catch(k){Q(k),f=void 0}break;case "s":const h=Ra(8232),l=Ra(8233);if(-1!==Ya(f,h)||-1!==Ya(f,l))g="x",f=pa.Base64.encode(pa.UTF8.encode(f));f=g+f;break;default:f=g+f}}b[q]=f;n(q);v(q,m,d.data[q],!1)},get:function(q,f){I("GM_getValue");return t(d.data[q],f)},remove:function(q){I("GM_deleteValue");const f=d.data[q];d.ts=Ta();delete d.data[q];n(q);v(q,f,d.data[q],!1)},list:function(){I("GM_listValues");return O(d.data)},
registerChangeListener:function(q,f){I("GM_addValueChangeListener");const m=++e;w(c,{id:m,key:q,cb:f});return m},unregisterChangeListener:function(q){I("GM_removeValueChangeListener");c=N(c,f=>f.id!==q?!0:!1)}}})(),R=(()=>{const c=[];let d;return{register:function(e){I("window.onurlchange");w(c,e);d||(d=Ba.connect("onurlchange"),d.onMessage.addListener(({url:t})=>{t&&H(c,v=>v({url:t}))}),d.postMessage({method:"observeUrlChanges",uuid:L.uuid,id:qa}))},unregister:function(e){let t;e&&-1<(t=S(c,e))&&
ua(c,t,1);d&&0===c.length&&(d.disconnect(),d=null)}}})(),ba=(()=>({getText:function(c){I("GM_getResourceText");for(let d=0;d<L.resources.length;d++){const e=L.resources[d];if(e.name==c&&!e.failed){try{if(null!==e.content)return pa.UTF8.decode(e.content)}catch(t){}return""}}return null},getURL:function(c){I("GM_getResourceURL");for(let d=0;d<L.resources.length;d++){const e=L.resources[d];if(e.name==c&&!e.failed){if(null===e.content)return"";try{return`data:${e.meta||"application/octet-stream"};base64,${pa.Base64.encode(e.content)}`}catch(t){}return e.url}}return null}}))(),
W=(()=>({set:function(c,d){I("GM_setTab");Z.send("tabs",{action:"set",uuid:L.uuid,tab:c},d?()=>{d()}:null)},get:function(c){I("GM_getTab");Z.send("tabs",{action:"get",uuid:L.uuid},c?d=>{c(d||{})}:null)},getAll:function(c){I("GM_getTabs");Z.send("tabs",{action:"list",uuid:L.uuid},c?d=>{c(d||{})}:null)}}))(),ea=c=>{I("GM_xmlhttpRequest");let d=!1;const e=c.context;delete c.context;const t=(()=>{const b={};H(O(u.XMLHttpRequest.__proto__),h=>{b[h]=!0});const g=()=>{};H(O(u.XMLHttpRequest),h=>{b[h]||(g[h]=
u.XMLHttpRequest[h])});return g})();let v=()=>{d=!0};const n=(b,g)=>{g=g||{};b&&u.setTimeout(()=>{g.__proto__=t;U(b,g,[g])},1)};"object"===typeof c.url&&c.url.href&&(c.url=c.url.href);const B=(b,g)=>{let h,l,k,p=Ga.toType(b);if("Blob"===p||"File"===p)pa.blob2str(b,D=>{g({type:p,value:D,meta:b.type,name:b.name,lastModified:b.lastModified})});else if("FormData"===p)if(l=b.keys&&b.getAll?b.keys():null){let D;const G={};for(h=[];!(D=l.next()).done;)w(h,D.value);k=()=>{if(h.length){const Y=aa(h);let J=
b.getAll(Y);-1===Ya(Y,/\[\]$/)&&(J=J[0]);B(J,X=>{G[Y]=X;k()})}else g({type:"FormData",value:G})};k()}else g({error:p});else if(!(p=Ga.toType(b))||"Array"!==p&&"Object"!==p)g({value:b});else{let D,G,Y=0;l=0;"Object"===p?(h=O(b),G=J=>J<h.length?h[J]:null,D={}):(G=J=>J<b.length?J:null,D=[]);k=()=>{const J=G(Y);null===J?g({type:p,value:D}):B(b[J],X=>{X.error?g(X):(D[J]=X,Y++,1024>l++?k():(l=0,u.setTimeout(k,1)))})};k()}},q=b=>{const g={};b&&b.split("\n").forEach(h=>{(h=h.match(/^([^:]+): ?(.*)/))&&(g[h[1].toLowerCase()]=
h[2]||"")});return g},f=(b,g,h,l)=>{if("text"==h)b="document"==g?b.document:b;else if("arraybuffer"==g)b=pa.str2arrbuf(b);else if("blob"==g)b=new u.Blob([pa.str2arrbuf(b)],{type:l});else if("json"==g)b=Aa(b);else if("document"==g){if(b.error){ma("GM_xmlhttpRequest:",b.error);return}g=new u.DOMParser;h=Xa(b.contentType,";")[0];return pb(g,b.document,h)}return b};let m=!0;(b=>{if(c.url){const g=c.url.substr(0,5);if(-1!=["data:","blob:"].indexOf(g))return m=!1,b()}if(!c.data)return b();B(c.data,g=>{g.error?
(m=!1,ma("GM_xmlhttpRequest:",`unable to handle data type ${g.error}. Going to use default xhr as fallback.`)):(c.binary&&(g.type="Blob"),c.data=g,c.data_type="typified");b()})})(()=>{"use strict";if(d)d=!1,n(c.onabort);else if(m){let b=Ba.connect("xhr"),g=[];c.headers&&H(O(c.headers),h=>{"cookie"===Za(h)&&(c.cookie=c.headers[h],delete c.headers[h])});b.postMessage({method:"xhr",details:c,callbacks:{onloadstart:!!c.onloadstart,onload:!!c.onload,ondone:!!c.onloadend,onreadystatechange:!!c.onreadystatechange,
onerror:!0,onabort:!!c.onabort,ontimeout:!!c.ontimeout,onprogress:!!c.onprogress,onpartial:!0},id:qa,url:u.location.href,uuid:L.uuid});b.onMessage.addListener(h=>{h.data&&e&&(h.data.context=e);if(h.data&&h.onload){g.length&&(h.data.response_data=A(g,""),g=null);if(h.data.response_data){const l=h.data.response_data,k=h.data;H(["response_data"],D=>{delete h.data[D]});const p={response:function(D,G){I(`${"GM_xmlhttpRequest"}.response[${c.responseType||"unknown"}]`);const Y=c.responseType?Za(c.responseType):
"";let J="binary/octet-stream";G&&(J=q(G.responseHeaders)["content-type"]||J);return f(D,Y,null,J)},responseText:function(D){I("GM_xmlhttpRequest.responseText");const G=c.responseType?Za(c.responseType):"";return f(D,G,"text")},responseXML:function(D){I("GM_xmlhttpRequest.responseXML");return f({document:D,contentType:"text/xml"},"document")}};H(O(p),D=>{oa(h.data,D,{get:function(){try{return p[D](l,k)}catch(G){ma("GM_xmlhttpRequest:",G)}}})})}n(c.onreadystatechange,h.data);n(c.onload,h.data)}else if(h.onreadystatechange)4!=
h.data.readyState&&n(c.onreadystatechange,h.data);else if(h.onpartial)w(g,h.data.partial);else if(h.onerror)h.exception&&Oa(h.exception),n(c.onerror,h.data);else if(h.onabort)n(c.onabort,h.data);else if(h.ondone)n(c.onloadend,h.data);else{const l=N(["onloadstart","onprogress","ontimeout"],k=>!!h[k])[0]||"onerror";n(c[l],h.data)}});b.onDisconnect.addListener(()=>{b=null});v=()=>{I("GM_xmlhttpRequest.abort");b&&b.postMessage({cancel:!0})}}else{const b=new u.XMLHttpRequest;void 0===c.async&&(c.async=
!0);fb(b,c.method,c.url,c.async,c.user,c.password);c.headers&&H(O(c.headers),g=>{qb(b,g,c.headers[g])});c.overrideMimeType&&rb(b,c.overrideMimeType);c.responseType&&(b.responseType=c.responseType);H("abort error load loadstart progress readystatechange timeout".split(" "),g=>{const h="abort"==g;b[`on${g}`]=()=>{var l="";let k=c.url;if(2<b.readyState&&(l=sb(b),4==b.readyState)){l&&(l=Fa(l,/TM-finalURL[0-9a-zA-Z]*: .*[\r\n]{1,2}/,""));let p;try{p=tb(b,`TM-finalURL${ia.short_id}`)}catch(D){}p&&(k=p)}l=
{readyState:b.readyState,status:"",statusText:"",responseHeaders:l,finalUrl:k,context:e};4==b.readyState&&(b.responseType?l.response=b.response:(l.responseText=b.responseText,l.responseXML=b.responseXML),l.status=b.status,l.statusText=b.statusText);n(c[`on${g}`],l,h)}});gb(b,c.data);v=()=>{I("GM_xmlhttpRequest.abort");ub(b)}}});return{abort:function(){v()}}},ka=c=>{const d={};H(O(c),e=>{d[e]=c[e]});d.id=qa;I("GM_notification");d.text||d.highlight?Z.send("notification",d,e=>{if(d.onclick&&e.clicked)d.onclick();
if(d.ondone)d.ondone(!0===e.clicked)}):ma("GM_notification: neither a message text nor highlight options were given!")};let da;const Ka=()=>{if(da)return da;const c=r.script,d={id:1,enabled:1,hash:1,fileURL:1},e={script:{}};H(O(c),v=>{d[v]||(e.script[v]=c[v])});const t=c.options.updateURL||c.options.fileURL;e.script["run-at"]=c.options.override.run_at||c.options.run_at;e.script.excludes=c.options.override.orig_excludes;e.script.includes=c.options.override.orig_includes;e.script.matches=c.options.override.orig_matches;
e.script.grant=c.grant;e.script.unwrap=!1;e.scriptMetaStr=r.header;e.scriptSource=r.code;e.scriptWillUpdate=!!t;e.scriptUpdateURL=t;e.version=ia.version;e.scriptHandler="Tampermonkey";e.isIncognito=ia.inIncognitoContext;e.isFirstPartyIsolation=ia.isFirstPartyIsolation;e.downloadMode=ia.downloadMode;return da=e};let y;const z=(c,d)=>{I("GM_webRequest");const e=()=>{y==t&&(y=null);t=null};y&&y.disconnect();var t=y=Ba.connect("webRequest");d&&t.onMessage.addListener(v=>{d(v.type,v.message||"ok",v.details)});
t.onDisconnect.addListener(e);t.postMessage({rules:c,uuid:L.uuid});return{abort:function(){I("GM_webRequest.abort");t&&t.disconnect();e()}}},C=(()=>{let c=0;const d={},e={register:function(t,v,n){I("GM_registerMenuCommand");const B=++c,q=Ba.connect("registerMenuCommand");q.onMessage.addListener(f=>{"run"===f&&u.setTimeout(v,1)});q.onDisconnect.addListener(()=>{e.unregister(B)});q.postMessage({method:"register",name:t,uuid:L.uuid,accessKey:n});ca&&Q(`env: ${"registerMenuCommand"} ${La(v)}`);d[B]=q.disconnect;
return B},unregister:function(t){I("GM_unregisterMenuCommand");ca&&Q(`env: ${"unregisterMenuCommand"} ${t}`);let v;if(v=d[t])v(),delete d[t]}};return e})(),V=(()=>{"use strict";const c=(d,e)=>({action:d,uuid:L.uuid,url:u.location.href,details:e});return{set:function(d,e){I("GM_cookie.set");Z.send("cookie",c("set",d),e?t=>{e(t.error)}:null)},delete:function(d,e){I("GM_cookie.delete");Z.send("cookie",c("delete",d),e?t=>{e(t.error)}:null)},list:function(d,e){I("GM_cookie.list");Z.send("cookie",c("list",
d),e?t=>{e(t.cookies,t.error)}:null)}}})();M[r.script.uuid]=M[r.script.uuid]||{getInfo:Ka,registerMenuCommand:C.register,unregisterMenuCommand:C.unregister,download:E,webRequest:z,openInTab:x,setValue:K.set,getValue:K.get,deleteValue:K.remove,listValues:K.list,addUrlChangeListener:R.register,removeUrlChangeListener:R.unregister,addValueChangeListener:K.registerChangeListener,removeValueChangeListener:K.unregisterChangeListener,getResourceText:ba.getText,getResourceURL:ba.getURL,notification:ka,xmlhttpRequest:ea,
cookie:V,setTab:W.set,getTab:W.get,getTabs:W.getAll};return M[r.script.uuid]}}})();var $a=(()=>{const x=(y,z,C,V)=>{const c=Na(z);H(O(c),d=>{const e=c[d];if(!e||!e.get||za(e.get)||V)"function"===typeof z[d]?y[d]=sa(z[d],z):(()=>{oa(y,d,{get:function(){"use strict";return z[d]}})})()});H(O(C),d=>{y[d]=C[d]});return y},E=(y,z,C,V,c)=>{const d=z[C],e=typeof d;V&&"string"===e?z[C]=new u.Function(d):c&&"function"===e&&(z[C]=function(){return U(d,c,arguments)});return U(y,ja,z)},F=(y,z,C,V)=>{const c={attrChange:0,
attrName:null,bubbles:!0,cancelBubble:!1,cancelable:!1,clipboardData:void 0,currentTarget:null,defaultPrevented:!1,eventPhase:0,newValue:null,prevValue:null,relatedNode:null,returnValue:!0,srcElement:null,target:null,timeStamp:Ta()};C="string"===typeof C?new u.Function(C):C;const d=new Event;H(O(c),e=>{d[e]=c[e]});H(O(z),e=>{d[e]=z[e]});d.type=y;U(C,V,[d])},M=(y,z,C,V)=>{void 0===V&&(V=(c,d)=>d);H(na(["GM_info","GM.info"],z),c=>{let d;const e=C[c];e&&(d=V(c,e))&&(y[c]=d)})},r=(y,z)=>{void 0===z&&
(z=100);return z&&y&&(y==document||r(y.parentNode,z-1))},L=(()=>{let y=null;return z=>{y||(y={instance:z,is_open:!1},H(["write","writeln","open","close"],C=>{y[C]=z[C];z[C]=function(){let V=!1;-1!=S(["write","writeln","open"],C)?y.is_open?V=!0:y.is_open=!0:"close"===C&&(y.is_open=!1);!V&&y.is_open&&Z.send("document.write");const c=document.documentElement,d=U(y[C],z,arguments);if(!V&&y.is_open)return c!==document.documentElement&&(y.instance!==z&&(y=null,L(document)),H(a.write_listeners,e=>{e(document)})),
d}}))}})(),K={},R=[],ba=[],W=(y,z,C)=>{let V;ba.forEach(c=>{c.object===y&&(V=!0)});if(!V){const c={object:y,addEventListener:y.addEventListener,removeEventListener:y.removeEventListener};ba.push(c);const d=[],e=v=>{for(let n=0;n<d.length;n++)if(d[n].fn===v)return n};y.removeEventListener=function(v,n,B){B=!!B;let q,f,m;if(void 0!==(q=e(n))&&(f=d[q].listeners)){if(m=f[`${v}-${B}`])U(c.removeEventListener,this,[v,m,B]),delete f[`${v}-${B}`];Qa(f).length||ua(d,q,1)}else return U(c.removeEventListener,
this,arguments)};const t=(v,n,B,q)=>{if(n){let f=R.length;n=u.parseInt(A(["DOMContentLoaded"==B?1:2,q?1:2,q?n:3-n,Ta()],"0"));for(B=0;B<R.length;B++)if(q=R[B],!q||!q.prio||q.prio>n){f=B;break}ua(R,f,0,{prio:n,fn:v})}else w(R,{fn:v})};y.addEventListener=function(v,n,B){(ca||Ea)&&Q(`env: addEventListener ${v}`);const q=this;if(n&&(1==z&&"load"==v||"DOMContentLoaded"==v||"DOMNodeInserted"==v)){B=!!B;var f;try{try{throw new u.Error;}catch(b){const g=/tms_[0-9a-f_]+/;var m=b.stack||b.stacktrace;if(m){const h=
Xa(m,"\n");for(let l,k=0;k<h.length&&(!(l=Sa(h[k],g))||!(f=K[l[0]]));k++);}else{const h=(k,p)=>{void 0===p&&(p=10);if(0===p)return null;if(k.caller){let D,G;try{return G=La(k.caller),Sa(G,new u.RegExp("^function[^(]+"))&&(void 0).length&&(D=Sa((void 0)[0],g))?D[0]:h(k.caller,p-1)}catch(Y){T&&ma("env: unable to detect caller context",Y)}}return null};let l;if(l=h(arguments.callee))f=K[l]}}}catch(b){T&&Oa(`env: Error: event ${v}`,b)}if(f&&"document-idle"!==f.run_at&&(f=null,"load"==v?a.pageLoaded&&
(f=()=>{var b=n,g=q.document||q;(ca||Ea)&&Q("env: postLoadEvent!");g=g||document;F("load",{attrName:"null",newValue:"null",prevValue:"null",eventPhase:u.Event.AT_TARGET,attrChange:u.MutationEvent.ADDITION,target:g,relatedNode:g,srcElement:g},b,q)},t(f,z,v,B)):"DOMContentLoaded"==v&&a.domContentLoaded&&(f=()=>{var b=n,g=q.document||q;(ca||Ea)&&Q("env: postDomEventListener!");g=g||document;F("DOMContentLoaded",{attrName:"null",newValue:"null",prevValue:"null",eventPhase:u.Event.AT_TARGET,attrChange:u.MutationEvent.ADDITION,
target:g,relatedNode:g,srcElement:g},b,q)},t(f,z,v,B)),f)){u.setTimeout(()=>{if(R.length){const b=la(R);b&&b.fn&&b.fn()}},1);return}m=function(b){return E(Ja,[n,this,C(b)],0,!0,q)};void 0===(f=e(n))&&(f=d.length,w(d,{fn:n,listeners:{}}));d[f].listeners[`${v}-${B}`]=m;return U(c.addEventListener,q,[v,m,B])}return U(c.addEventListener,q,arguments)};try{const v=()=>"[native code]";[y.addEventListener,y.removeEventListener].forEach(n=>{ra(n,"toString",v)})}catch(v){}}},ea=y=>{y.__evaluate||(wa(y,{__evaluate:{value:y.evaluate,
enumerable:!1,configurable:!1}}),y.evaluate=function(z,C,V,c,d){ca&&Q(`env: document.evaluate ${z}`);C||(C=this);let e;if("undefined"!=typeof XPathResult){let t=z,v=null;try{e=this.__evaluate(t,C,V,c,d)}catch(B){v=B}let n=!1;try{n|=!!e.snapshotLength}catch(B){}try{n|=!!e.singleNodeValue}catch(B){}if(n||"."==z[0]||r(C))ca&&Q(`env: queried document for ${t}`);else{ca&&Q(`env: query added elem for ${t}`);t=("/"==z[0]?".":"./")+z;try{e=this.__evaluate(t,C,V,c,d)}catch(B){}}ca&&Q("env: query returned ",
e,v);if(!n&&v)throw v;}else ca&&Q("env: XPathResult == undefined, but selectNodes via ",z),e=C.selectNodes(z);return e},w(hb,()=>{y.evaluate=y.__evaluate}))},ka=(y,z,C)=>{const V=["eval"],c={};H(O(y),e=>{y[e].context_prop&&(c[(e.split(".")||[])[1]]=!0)});const d=(e,t,v,n)=>{const B=h=>h===t?e:h,q=(h,l,k,p)=>{k||(k=h);const D=h[l];h=function(){"use strict";let G=U(D,k,arguments);p&&(G=p(G));return G};h.__proto__=D;h.prototype=D.prototype;return h},f=h=>{let l;const k=h.substr(2);let p;oa(e,h,{get:function(){return l},
set:function(D){"use strict";(l=D)&&!p?(p=function(){if("function"===typeof l)return U(l,e,arguments)},u.addEventListener(k,p,!0)):!l&&p&&(u.removeEventListener(k,p,!0),p=null)}})},m=(h,l,k,p)=>{let D,G,Y;const J={enumerable:!0,configurable:!0};(Y="function"===typeof l)?J.get=l:J.get=function(){"use strict";p&&p.get_cb&&U(p.get_cb,this,[arguments,m]);return G?D:B(t[h])};if("function"===typeof k)J.set=k;else if(!Y||k)J.set=X=>{p&&p.overwrite?oa(e,h,{value:X,enumerable:!0,configurable:!0}):(D=X,G=!0)};oa(e,
h,J)};H(O(n),h=>{v[h]=v[h]||!1!==n[h]});const b=ia.sandbox_allow_getters,g=ia.detect_constructors_by_keys;H(O(v),h=>{let l,k,p,D,G,Y,J,X,Da,Ha,Pa,ta,ib,ab;try{let ya;(ya=Ma(t,h))&&ya.get&&(G=!za(ya.get));try{if(!(k=n[h])||k.needs_grant&&!0!==c[h])if((l=v[h])&&l.event)ib=!0;else if(ya&&ya.get)if(G)if(b)J=!0;else return;else J=()=>{"use strict";return B(U(ya.get,ja))};else"function"===(D=typeof(p=t[h]))?l.proto?Y=!0:(ya.enumerable||!(g&&O(p).length||!za(p)))&&-1==S(V,h)&&"bind"in p?Pa=!0:Ha=!0:"number"===
D||"string"===D?J=!0:Ha=!0;else if(k.wrap)Y=!0,ta=k.that;else if(k.direct)Ha=!0;else if(k.enhance)ab=k.enhance;else if(k.get||k.set)J=k.get,X=k.set,Da=k.opts}catch(wb){J=X=!0}if(ab)e[h]=ab;else if(!G||b)ib?f(h):J||X?m(h,J,X,Da):Y?e[h]=q(t,h,ta,B):Ha?e[h]=B(t[h]):Pa&&(e[h]=sa(t[h],t))}catch(ya){ma(`env: error while creating a new sandbox[${h}]: ${ya.message}`)}});return e};return(()=>{const e=new Window,t=function(f,m){"use strict";if("urlchange"==f&&c.onurlchange)z.addUrlChangeListener(m);else return E(u.addEventListener,
arguments,1,!0)},v=function(f,m){"use strict";if("urlchange"==f&&c.onurlchange)z.removeUrlChangeListener(m);else return E(u.removeEventListener,arguments,1,!0)},n={setTimeout:{enhance:function(){"use strict";return E(u.setTimeout,arguments,0,!0,e)}},setInterval:{enhance:function(){"use strict";return E(u.setInterval,arguments,0,!0,e)}},close:{needs_grant:!0,get:function(){"use strict";return u.self==u.top?f=>Ca.closeTab(f):u.close}},focus:{needs_grant:!0,get:function(){return f=>{"use strict";return Ca.focusTab(f)}}},
onurlchange:(()=>{var f=null;return{needs_grant:!0,get:function(){return f},set:function(m){f&&v("urlchange",f);f=m;t("urlchange",f)}}})(),location:{get:!0,set:function(f){"use strict";u.location.href=f}},name:{get:function(){"use strict";return Ia(ja,"name")},set:function(f){"use strict";ra(ja,"name",f)}},event:{get:!0,set:!0,opts:{overwrite:!0}},document:{get:function(){"use strict";const f=u.document;C(f);return f}},clearInterval:{get:function(){"use strict";return u.clearInterval}},clearTimeout:{get:function(){"use strict";
return u.clearTimeout}},addEventListener:{enhance:t},removeEventListener:{enhance:v}};(()=>{let f=cb(u.frames.length,7);n.length={get:!0,opts:{get_cb:function(m,b){"use strict";m=u.frames.length;for(let g=f;g<m;g++)b(u.String(g),{get:!0});f=cb(m,f)}}};for(let m=0;m<f;m++)n[u.String(m)]={get:!0}})();H(O(u),f=>{u[f]!=ja&&(n[f]=n[f]||{enhance:u[f]})});const B=d(e,ja,a.windowProps,n),q={context:B,filter:function(f){"use strict";return f==ja?B:f},filterEvent:function(f){const m={};for(const b in f)if("function"===
typeof f[b])m[b]=(()=>{const g=b;return function(){return U(f[g],f,arguments)}})();else{const g=q.filter(f[b]);m[b]=g}return m}};return q})()},da=()=>x({},u.console,{debug:xa,log:Q,info:ha,warn:ma,error:Oa},!1),Ka=(y,z,C,V,c,d)=>{let e=null;const t=()=>"[Tampermonkey property]";try{const v=V.sandboxes[y.uuid],n=["context","fapply"],B=[void 0,void 0],q=V.elements[y.uuid];H(O(q),b=>{const g=q[b];g.overwrite?(w(n,b),w(B,g.value)):g.context_prop||(w(n,b),w(B,`context.${b}`),g.getter?oa(v,b,{get:g.getter}):
v[b]=g.value);g.protect&&v[b]&&ra(v[b],"toString",t)});let f;e=A(["((context, fapply, console) => {","with (context) {","(module => {",'"use strict";',"try {",ia.measure_scripts?`console.time("${f=`SCRIPT RUN TIME[${y.name.replace(/\W+/g," ")}]`}");\n`:"","fapply(module, context, [",A(B,","),"]);",ia.measure_scripts?`console.timeEnd("${f}");\n`:"","} catch (e) {","if (e.message && e.stack) {","console.error(\"ERROR: Execution of script '",Fa(y.name,new u.RegExp("[\"']","g"),"\\$1"),"' failed! \" + e.message);",
'console.log(e.stack.replace(/(\\\\(eval at )?<anonymous>[: ]?)|([\\s.]*at Object.tms_[\\s\\S.]*)/g, ""));',"} else {","console.error(e);","}","}","})","(function ",c,"(",A(n,","),") {",ia.enforce_strict_mode?'"use strict";\n':"",C,z,"\n","})","}","})(that.context, that.fapply, that.console);\n",d?`//# sourceURL=${d}\n`:""],"");const m={context:v,fapply:U,console:da()};a.E_u(e,m)}catch(v){Ca.syntaxCheck(A([C,z],""),n=>{let B="";if(n.errors){const f=Xa(C,"\n").length-1;let m="";n.errors&&H(O(n.errors),
b=>{if((b=n.errors[b])&&0<=b.line&&b.reason){const g=b.line;m+=A([g>f?"script:":"require:"," (",b.code,") ",Fa(b.reason,/.$/,"")," on line: ",g>f?g-f:g," at character: ",b.character,"\n"],"")}});B=`JSHINT output:\n${m}`}else B=z;const q=v.stack?Fa(v.stack,/(\\(eval at )?<anonymous>[: ]?)|([\s.]*at Object.tms_[\s\S.]*)/g,""):"";T||n.errors?Oa(`Syntax error @ "${y.name}"!\n##########################\n${B}##########################\n\n${q}`):Oa(`Syntax error @ "${y.name}"!\n\n`,q);u.setTimeout(()=>{throw v;
},1)})}};return{create:function(y){const z=y.script,C={},V=-1!==S(z.grant,"none"),c=`${z.namespace}_${V}`;void 0===a.props[c]&&(a.props[c]={sandboxes:{},elements:{}},w(hb,()=>{a.props[c]=null}));C.CDATA={value:function(m){I("CDATA");this.src=m;this.toXMLString=this.toString=function(){return this.src}}};C.uneval={value:function(m){I("window.uneval");try{return`\\$1 = ${fa(m)};`}catch(b){Q(b)}}};C.define={value:void 0};C.module={value:void 0};C.exports={value:void 0};const d={},e={},t={},v={},n=Ca.of(y);
I(z.options.run_at||"<default>","run_at");if(V)I("none","grant");else{I("sandbox","grant");C.window={value:"context",overwrite:!0};const m={window:ja};H(O(m),l=>{const k=`unsafe${Fa(l,/^(.)/g,p=>nb(p))}`;C[k]={value:m[l]};-1!=S(z.grant,k)&&I(k,"grant")});C.console={value:da()};C.cloneInto={value:function(l){I("compat.cloneInto");return l}};C.exportFunction={value:function(l,k,p){I("compat.exportFunction");p&&void 0!==p.defineAs&&(k[p.defineAs]=l);return l}};C.createObjectIn={value:function(l,k){I("compat.createObjectIn");
const p={};k&&void 0!==k.defineAs&&(l[k.defineAs]=p);return p}};d.addStyle=Ca.addStyle;d.addElement=Ca.addElement;d.deleteValue=n.deleteValue;d.listValues=n.listValues;d.getValue=n.getValue;d.setValue=n.setValue;d.log=Ca.log;d.registerMenuCommand=n.registerMenuCommand;d.unregisterMenuCommand=n.unregisterMenuCommand;d.openInTab=n.openInTab;d.addValueChangeListener=n.addValueChangeListener;d.removeValueChangeListener=n.removeValueChangeListener;v.xmlhttpRequest=n.xmlhttpRequest;v.download=n.download;
d.webRequest=n.webRequest;e.getTab=n.getTab;d.setTab=n.setTab;d.saveTab=n.setTab;e.getTabs=n.getTabs;d.getResourceText=n.getResourceText;v.getResourceURL=n.getResourceURL;e.setClipboard={cb:2,fn:Ca.setClipboard};const b=l=>function(){const k=kb(U(l,this,arguments));ra(k,"then",p=>lb(k,p));ra(k,"catch",p=>mb(k,p));return k},g=(l,k)=>{let p;const D=new Ua((G,Y)=>{const J={},X=k.onload,Da=k.ontimeout,Ha=k.onerror;H(O(k),ta=>{J[ta]=k[ta]});J.onerror=function(ta){Y(ta);Ha&&U(Ha,this,arguments)};J.ontimeout=
function(ta){Y(ta);Da&&U(Da,this,arguments)};J.onload=function(ta){G(ta);X&&U(X,this,arguments)};const Pa=l(J).abort;!0===p?Pa():p=Pa});ra(D,"abort",()=>{p?p():p=!0});return D};H(O(v),l=>{t[`GM_${l}`]={value:v[l]}});H(O(e),l=>{const k=e[l];t[`GM_${l}`]={value:k.fn||k};t[`GM.${l}`]={value:function(){let p,D=[];if(void 0===k.cb)p=k;else{p=k.fn;for(let G=0;G<k.cb;G++)D.push(arguments[G]||void 0)}return new Ua(G=>{U(p,this,[...D,G])})}}});H(O(d),l=>{const k=d[l];t[`GM_${l}`]={value:k};t[`GM.${l}`]={getter:function(){return b(k)}}});
t["GM.getResourceUrl"]={getter:function(){return b(v.getResourceURL)}};t["GM.xmlHttpRequest"]={value:function(l){return g(v.xmlhttpRequest,l)}};t["GM.download"]={value:function(l){return g(v.download,l)}};const h=function(l,k,p,D){let G=null;const Y="timeout text image title highlight silent".split(" ");let J=null;const X={};"object"===typeof l&&(J=l);J?(H(Y,Da=>{X[Da]=J[Da]}),G=J.ondone,D=J.onclick,"function"===typeof k&&(G=k)):(X.image=p,X.title=k,X.text=l);X.text&&(X.image=X.image||z.icon64||z.icon,
X.title=X.title||z.name);X.onclick=D;X.ondone=G;n.notification(X)};t.GM_notification={value:h};t["GM.notification"]={value:function(l){return"object"!==typeof l?ma("GM.notification(details): received no details"):new Ua(k=>{let p={};H(O(l),G=>{p[G]=l[G]});const D=p.ondone;p.ondone=(...G)=>{D&&D(...G);k(...G)};h(p)})}};t.GM_cookie={value:(()=>{const l=n.cookie,k=(p,D,G)=>(l[p]||(()=>{}))(D,G);H(O(l),p=>{k[p]=l[p]});return k})()};t["GM.cookie"]={value:(()=>{const l=(k,p)=>new Ua((D,G)=>{"list"==k?t.GM_cookie.value(k,
p,(Y,J)=>{J?G(J):D(Y)}):t.GM_cookie.value(k,p,Y=>{Y?G(Y):D()})});H(O(n.cookie),k=>{l[k]=p=>l(k,p)});return l})()};t["window.close"]={context_prop:!0};t["window.focus"]={context_prop:!0};t["window.onurlchange"]={context_prop:!0}}t.GM_info=t["GM.info"]={getter:n.getInfo};const B={};C.GM={value:B,protect:!0};M(C,z.grant,t,(m,b)=>{if("GM."===m.substr(0,3))m=m.split(".")[1],oa(B,m,{get:b.getter?b.getter:()=>b.value});else return b.protect=!0,b});z.options.compat_prototypes&&((ca||T)&&Q("env: option: add toSource"),
u.Object.prototype.toSource||wa(u.Object.prototype,{toSource:{value:function(){I("Object.toSource");var m=Ga.toType(this);if("String"===m)return`(String("${Fa(this,new u.RegExp('"',"g"),'\\"')}"))`;if("Number"===m)return`(Number("${u.Number(this)}"))`;if("Array"===m){m="(new Array(";for(let b=0;b<this.length;b++){const g=Ga.toType(this[b]);m="Null"===g?m+"null":"Undefined"===g?m+"undefined":m+this[b].toSource();b+1<this.length&&(m+=",")}return m+="))"}return`JSON.parse(unescape("${u.escape(fa(this))}"))`},
enumerable:!1,writable:!0,configurable:!0}}),(ca||T)&&Q("env: option: add some array generics"),H("indexOf lastIndexOf filter forEach every map some slice".split(" "),m=>{if("function"!==typeof u.Array[m]){const b={};b[m]={value:function(g){I(`Array.${m}`);return U(u.Array.prototype[m],g,U(P.wrappedJSObject,arguments,[1]))},enumerable:!1,writable:!0,configurable:!0};wa(u.Array,b)}}));let q="";if(V)var f=new Window;else{const m=ka(C,n,b=>{ea(b);L(b);W(b,2,m.filterEvent)});f={run_at:z.options.run_at,
uuid:z.uuid};q=`tms_${Fa(z.uuid,/-/g,"_")}`;K[q]=f;W(m.context,1,m.filterEvent);f=m.context}a.props[c].sandboxes[z.uuid]=f;a.props[c].elements[z.uuid]=C;(ca||T)&&xa(`env: execute script ${z.name} @ the ${V?"un":""}safe context now!`);Ka(z,y.code,y.requires,a.props[c],q,y.source_url)}}})();(()=>{if(ia.external_connect){var x;if(x=ja.external){const E=(F,M)=>{Z.send("external.message",F,r=>{M&&M(r)})};try{wa(x,{Tampermonkey:{get:function(){return{getVersion:function(F){E({method:"getVersion"},F)},isInstalled:function(F,
M,r){"function"===typeof M&&(r=M,M=null);E({method:"isInstalled",script:{name:F,namespace:M}},r)}}},configurable:!0}})}catch(F){}}}})();Z.onMessage.setListener(x=>{const E=x.a;"load"==x.m?(a.pageLoaded=!0,Va.runListeners()):"DOMContentLoaded"==x.m?(a.domContentLoaded=!0,Va.runListeners()):"setForeignAttr"==x.m?ja[E.attr]=E.value:"port.message"==x.m?Ba.message(E):"executeScript"==x.m?Va.run(x.a):"cleanup"==x.m?Z.cleanup():T&&Q("env: unkown method",x)});T&&Q("Tampermonkey started");H(a.scripts,x=>{Va.run(x)})}}))());
